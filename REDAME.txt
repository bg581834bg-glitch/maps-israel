# go'maps - ניווט אופליין עם OSRM

## דרישות מערכת

- Windows 10/11
- Python (להרצת שרת סטטי לאריחים)
- OSRM (גרסה בינארית ל-Windows)
- קובץ נתוני OSM של ישראל (`.osm.pbf`)

---

## שלבים להפעלת OSRM

### 1. הורד את נתוני ישראל

הורד את הקובץ העדכני מ־[Geofabrik](https://download.geofabrik.de/asia/israel-and-palestine-latest.osm.pbf)

---

### 2. הורד את קבצי OSRM ל-Windows

- [OSRM Releases](https://github.com/Project-OSRM/osrm-backend/releases)
- חלץ את הקבצים לתיקייה נוחה.

---

### 3. הכנת הנתונים לניווט

פתח CMD בתיקיית OSRM והרץ:

```
osrm-extract israel-and-palestine-latest.osm.pbf -p profiles/car.lua
osrm-contract israel-and-palestine-latest.osrm
```

- `profiles/car.lua` נמצא בתיקיית OSRM (או השתמש בנתיב יחסי).
- יווצר קובץ: `israel-and-palestine-latest.osrm`

---

### 4. הפעלת שרת OSRM

```
osrm-routed israel-and-palestine-latest.osrm
```

- ברירת מחדל: מאזין ב־`http://localhost:5000`

---

### 5. בדיקת השרת

פתח דפדפן וגש לכתובת לדוגמה:

```
http://localhost:5000/route/v1/driving/35.21,31.77;34.78,32.08?overview=false
```

---

### 6. הפעלת שרת סטטי לאריחים (אם צריך)

בתיקיית האריחים, הרץ:

```
python -m http.server 8000
```

---

### 7. הפעלת האפליקציה

- פתח את `local_tiles_jerusalem.html` בדפדפן.
- ודא ששרת OSRM ושרת האריחים פועלים.

---

## הערות

- ניתן להחליף את נתיב הקבצים לפי הצורך.
- מומלץ להפעיל את כל הפקודות מתוך אותה תיקייה.
- אם יש שגיאות, ודא שהקבצים קיימים ושהפורט פנוי.

---

בהצלחה!
# התקנת שרת גיאוקודינג Photon לישראל (אופליין)

שרת Photon מאפשר חיפוש כתובות ומיקומים בישראל ללא צורך באינטרנט, באמצעות נתוני OpenStreetMap.

---

## דרישות מערכת

- Windows 10/11 (או Linux)
- Java 11 ומעלה  
- Elasticsearch 7.x  
- Git (להורדת Photon)

---

## שלבי התקנה

### 1. התקנת Java

- הורד והתקן Java מ־[Adoptium](https://adoptium.net/).
- ודא ש־java מותקן:  
  ```
  java -version
  ```

### 2. התקנת Elasticsearch

- הורד מ־[Elasticsearch Downloads](https://www.elastic.co/downloads/elasticsearch) (גרסה 7.x).
- חלץ את הקבצים והפעל את השרת:  
  ```
  bin\elasticsearch.bat
  ```
  (ב־Windows)

### 3. הורדת נתוני OSM של ישראל

- הורד את הקובץ מ־[Geofabrik Israel](https://download.geofabrik.de/asia/israel-and-palestine-latest.osm.pbf)

### 4. הורדת והתקנת Photon

- פתח CMD/PowerShell בתיקייה הרצויה והריץ:
  ```
  git clone https://github.com/komoot/photon.git
  cd photon
  ```

### 5. ייבוא נתוני ישראל ל־Photon

- הרץ:
  ```
  ./photon.sh import ../israel-and-palestine-latest.osm.pbf
  ```
  (הנתיב לקובץ OSM בהתאם למיקום שלך)

### 6. הפעלת שרת Photon

- הרץ:
  ```
  ./photon.sh start
  ```
- השרת יאזין בכתובת:  
  ```
  http://localhost:2322
  ```

---

## בדיקת חיפוש כתובת

- פתח דפדפן וגש לדוגמה:
  ```
  http://localhost:2322/api/?q=הרצל 10 תל אביב
  ```
- תקבל תשובת JSON עם קואורדינטות.

---

## הערות

- כל התהליך מתבצע מקומית, ללא צורך באינטרנט לאחר ההתקנה.
- ניתן לשלב את ה־API של Photon באפליקציה שלך במקום Nominatim.